<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="c7a6e6f2-4e97-48b9-9ec2-bd4f220e8a5d" />
  <url value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim" />
  <name value="NHSDigitalClaim" />
  <status value="draft" />
  <fhirVersion value="4.0.1" />
  <mapping>
    <identity value="workflow" />
    <uri value="http://hl7.org/fhir/workflow" />
    <name value="Workflow Pattern" />
  </mapping>
  <mapping>
    <identity value="w5" />
    <uri value="http://hl7.org/fhir/fivews" />
    <name value="FiveWs Pattern Mapping" />
  </mapping>
  <mapping>
    <identity value="rim" />
    <uri value="http://hl7.org/v3" />
    <name value="RIM Mapping" />
  </mapping>
  <kind value="resource" />
  <abstract value="false" />
  <type value="Claim" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Claim" />
  <derivation value="constraint" />
  <differential>
    <element id="Claim.extension">
      <path value="Claim.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="0" />
    </element>
    <element id="Claim.extension:replacementOf">
      <path value="Claim.extension" />
      <sliceName value="replacementOf" />
      <short value="Used to reference a previous Claim" />
      <definition value="Used for replacement Claims, this should reference the Claim.identifier of the Claim being replaced.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;  &quot;extension&quot;:  [&#xD;&#xA;        {&#xD;&#xA;            &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf&quot;,&#xD;&#xA;            &quot;valueIdentifier&quot;: {&#xD;&#xA;                &quot;value&quot;: &quot;46055273-3001-41bd-86a0-f8dba7f2161a&quot;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    ],&#xD;&#xA;&#xD;&#xA;```" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.extension:agent">
      <path value="Claim.extension" />
      <sliceName value="agent" />
      <short value="Provenance of the resource" />
      <definition value="The person submitting/authoring the Claim&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;   &quot;extension&quot;:  [&#xD;&#xA;        {&#xD;&#xA;            &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent&quot;,&#xD;&#xA;            &quot;valueReference&quot;: {&#xD;&#xA;                &quot;identifier&quot;: {&#xD;&#xA;                    &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/sds-role-profile-id&quot;,&#xD;&#xA;                    &quot;value&quot;: &quot;884562163557&quot;&#xD;&#xA;                },&#xD;&#xA;                &quot;display&quot;: &quot;dummy full name&quot;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    ],&#xD;&#xA;```" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent" />
      </type>
      <mustSupport value="true" />
    </element>
	<element id="Claim.extension:supplyHeaderIdentifier">
      <path value="Claim.extension" />
      <sliceName value="supplyHeaderIdentifier" />
      <short value="Identifier for the SupplyHeader" />
      <definition value="Identifier of the SupplyHeader (v3) object. The prescription in the context of a Dispense Notification or Claim. Mandatory for EPS interactions." />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-EPS-SupplyHeaderIdentifier" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.identifier">
      <path value="Claim.identifier" />
      <definition value="**MUST** be unique for each Claim. In EPS this must be a UUID with a system of `https://fhir.nhs.uk/Id/prescription-dispense-item-number`&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;      &quot;identifier&quot;:  [&#xD;&#xA;          {&#xD;&#xA;              &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/prescription-dispense-item-number&quot;,&#xD;&#xA;              &quot;value&quot;: &quot;4509B70D-D8B8-EA03-1105-64557CB54A29&quot;&#xD;&#xA;          }&#xD;&#xA;      ],&#xD;&#xA;&#xD;&#xA;```" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.identifier.system">
      <path value="Claim.identifier.system" />
      <min value="1" />
    </element>
    <element id="Claim.identifier.value">
      <path value="Claim.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.status">
      <path value="Claim.status" />
      <definition value="For EPS the following **MUST** be used.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;      &quot;status&quot;: &quot;active&quot;,&#xD;&#xA;      &quot;type&quot;: {&#xD;&#xA;          &quot;coding&quot;:  [&#xD;&#xA;              {&#xD;&#xA;                   &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/claim-type&quot;,&#xD;&#xA;                    &quot;code&quot;: &quot;pharmacy&quot;,&#xD;&#xA;                    &quot;display&quot;: &quot;Pharmacy&quot;&#xD;&#xA;             }             &#xD;&#xA;          ]&#xD;&#xA;      },&#xD;&#xA;      &quot;use&quot;: &quot;claim&quot;,&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.type">
      <path value="Claim.type" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.type.coding">
      <path value="Claim.type.coding" />
      <min value="1" />
    </element>
    <element id="Claim.type.coding.system">
      <path value="Claim.type.coding.system" />
      <min value="1" />
      <fixedUri value="http://terminology.hl7.org/CodeSystem/claim-type" />
    </element>
    <element id="Claim.type.coding.code">
      <path value="Claim.type.coding.code" />
      <min value="1" />
      <fixedCode value="pharmacy" />
    </element>
    <element id="Claim.use">
      <path value="Claim.use" />
      <fixedCode value="claim" />
    </element>
    <element id="Claim.patient">
      <path value="Claim.patient" />
      <definition value="**MUST** be an identifier reference using the Patients NHS Number.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;      &quot;patient&quot;: {&#xD;&#xA;          &quot;identifier&quot;: {&#xD;&#xA;              &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/nhs-number&quot;,&#xD;&#xA;              &quot;value&quot;: &quot;2300992742&quot;&#xD;&#xA;          }&#xD;&#xA;      },&#xD;&#xA;&#xD;&#xA;```" />
      <constraint>
        <key value="patient-reference" />
        <severity value="error" />
        <human value="An identifier reference or resource reference must be provided" />
        <expression value="(reference.exists() or identifier.exists())" />
        <source value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim" />
      </constraint>
      <constraint>
        <key value="patient-nhs" />
        <severity value="error" />
        <human value="Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong." />
        <expression value="identifier.where(system='https://fhir.nhs.uk/Id/nhs-number').exists().not() or (identifier.where(system='https://fhir.nhs.uk/Id/nhs-number').exists()  and identifier.where(system='https://fhir.nhs.uk/Id/nhs-number').value.matches('^([456789]{1}[0-9]{9})$'))" />
        <source value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim" />
      </constraint>
      <mustSupport value="true" />
    </element>
    <element id="Claim.patient.identifier">
      <path value="Claim.patient.identifier" />
      <min value="1" />
    </element>
    <element id="Claim.patient.identifier.system">
      <path value="Claim.patient.identifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/nhs-number" />
    </element>
    <element id="Claim.patient.identifier.value">
      <path value="Claim.patient.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.created">
      <path value="Claim.created" />
      <definition value="The date of the Claim&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;  &quot;created&quot;: &quot;2004-09-16T16:30:00+00:00&quot;,&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.provider">
      <path value="Claim.provider" />
      <definition value="The organisation responsible for the claim, this must be a reference to a contained PractitoinerRole&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA; &quot;provider&quot;: {&#xD;&#xA;        &quot;reference&quot; : &quot;#provider&quot;&#xD;&#xA;    },&#xD;&#xA;```&#xD;&#xA;&#xD;&#xA;The contained PractitionerRole&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;{&#xD;&#xA;    &quot;resourceType&quot;: &quot;Claim&quot;,&#xD;&#xA;    &quot;id&quot;: &quot;258E153F-567B-4D60-B045-BA315A6B8DB0&quot;,&#xD;&#xA;    &quot;contained&quot;: [&#xD;&#xA;  {&#xD;&#xA;      &quot;resourceType&quot;: &quot;PractitionerRole&quot;,&#xD;&#xA;      &quot;id&quot;: &quot;provider&quot;,&#xD;&#xA;      &quot;identifier&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/sds-role-profile-id&quot;,&#xD;&#xA;          &quot;value&quot;: &quot;454567759542&quot;&#xD;&#xA;        }&#xD;&#xA;      ],&#xD;&#xA;      &quot;code&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;coding&quot;: [&#xD;&#xA;            {&#xD;&#xA;              &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode&quot;,&#xD;&#xA;              &quot;code&quot;: &quot;S0030:G0100:R0620&quot;&#xD;&#xA;            }&#xD;&#xA;          ]&#xD;&#xA;        }&#xD;&#xA;      ],&#xD;&#xA;      &quot;practitioner&quot;: {&#xD;&#xA;        &quot;identifier&quot;: {&#xD;&#xA;          &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/sds-user-id&quot;,&#xD;&#xA;          &quot;value&quot;: &quot;7654321&quot;&#xD;&#xA;        },&#xD;&#xA;        &quot;display&quot;: &quot;Mr Peter Potion&quot;&#xD;&#xA;      },&#xD;&#xA;      &quot;organization&quot;: {&#xD;&#xA;        &quot;reference&quot;: &quot;#organisation&quot;&#xD;&#xA;      },&#xD;&#xA;      &quot;telecom&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;system&quot;: &quot;phone&quot;,&#xD;&#xA;          &quot;use&quot;: &quot;work&quot;,&#xD;&#xA;          &quot;value&quot;: &quot;01234567890&quot;&#xD;&#xA;        }&#xD;&#xA;      ]&#xD;&#xA;    },&#xD;&#xA;    {&#xD;&#xA;      &quot;resourceType&quot;: &quot;Organization&quot;,&#xD;&#xA;      &quot;id&quot;: &quot;organisation&quot;,&#xD;&#xA;      &quot;identifier&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/ods-organization-code&quot;,&#xD;&#xA;          &quot;value&quot;: &quot;VNE51&quot;&#xD;&#xA;        }&#xD;&#xA;      ],&#xD;&#xA;      &quot;address&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;city&quot;: &quot;West Yorkshire&quot;,&#xD;&#xA;          &quot;use&quot;: &quot;work&quot;,&#xD;&#xA;          &quot;line&quot;: [&#xD;&#xA;            &quot;17 Austhorpe Road&quot;,&#xD;&#xA;            &quot;Crossgates&quot;,&#xD;&#xA;            &quot;Leeds&quot;&#xD;&#xA;          ],&#xD;&#xA;          &quot;postalCode&quot;: &quot;LS15 8BA&quot;&#xD;&#xA;        }&#xD;&#xA;      ],&#xD;&#xA;      &quot;active&quot;: true,&#xD;&#xA;      &quot;type&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;coding&quot;: [&#xD;&#xA;            {&#xD;&#xA;              &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/organisation-role&quot;,&#xD;&#xA;              &quot;code&quot;: &quot;182&quot;,&#xD;&#xA;              &quot;display&quot;: &quot;PHARMACY&quot;&#xD;&#xA;            }&#xD;&#xA;          ]&#xD;&#xA;        }&#xD;&#xA;      ],&#xD;&#xA;      &quot;name&quot;: &quot;The Simple Pharmacy&quot;,&#xD;&#xA;      &quot;telecom&quot;: [&#xD;&#xA;        {&#xD;&#xA;          &quot;system&quot;: &quot;phone&quot;,&#xD;&#xA;          &quot;use&quot;: &quot;work&quot;,&#xD;&#xA;          &quot;value&quot;: &quot;0113 3180277&quot;&#xD;&#xA;        }&#xD;&#xA;      ]&#xD;&#xA;    }        &#xD;&#xA;    ],&#xD;&#xA;```" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-SDS" />
        <aggregation value="contained" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.provider.reference">
      <path value="Claim.provider.reference" />
      <min value="1" />
    </element>
    <element id="Claim.provider.identifier.system">
      <path value="Claim.provider.identifier.system" />
      <min value="1" />
    </element>
    <element id="Claim.provider.identifier.value">
      <path value="Claim.provider.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.priority">
      <path value="Claim.priority" />
      <definition value="Desired processing ugency. Fixed value.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&quot;priority&quot;: {&#xD;&#xA;        &quot;coding&quot;: [&#xD;&#xA;            {&#xD;&#xA;                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/processpriority&quot;,&#xD;&#xA;                &quot;code&quot;: &quot;normal&quot;&#xD;&#xA;            }&#xD;&#xA;        ]&#xD;&#xA;    }&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.priority.coding">
      <path value="Claim.priority.coding" />
      <min value="1" />
      <max value="1" />
    </element>
    <element id="Claim.priority.coding.system">
      <path value="Claim.priority.coding.system" />
      <min value="1" />
      <fixedUri value="http://terminology.hl7.org/CodeSystem/processpriority" />
    </element>
    <element id="Claim.priority.coding.code">
      <path value="Claim.priority.coding.code" />
      <min value="1" />
      <fixedCode value="normal" />
    </element>
    <element id="Claim.prescription">
      <path value="Claim.prescription" />
      <definition value="References to the original prescription, the `groupIdentifier` contains both the ShortForm prescription id and long form UUID variant. See [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) for more details.&#xD;&#xA;&#xD;&#xA;This MUST not be used to reference the MedicationRequest.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;prescription&quot;: {&#xD;&#xA;    &quot;extension&quot;: [&#xD;&#xA;        {&#xD;&#xA;            &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier&quot;,&#xD;&#xA;            &quot;extension&quot;: [&#xD;&#xA;                {&#xD;&#xA;                    &quot;url&quot;: &quot;shortForm&quot;,&#xD;&#xA;                    &quot;valueIdentifier&quot;: {&#xD;&#xA;                        &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/prescription-order-number&quot;,&#xD;&#xA;                        &quot;value&quot;: &quot;82D996-C81010-11DB12&quot;&#xD;&#xA;                    }&#xD;&#xA;                },&#xD;&#xA;                {&#xD;&#xA;                    &quot;url&quot;: &quot;UUID&quot;,&#xD;&#xA;                    &quot;valueIdentifier&quot;: {&#xD;&#xA;                        &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/prescription&quot;,&#xD;&#xA;                        &quot;value&quot;: &quot;b2fc79f0-2793-4736-9b2d-0976c21e73a5&quot;&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            ]&#xD;&#xA;        }&#xD;&#xA;    ]&#xD;&#xA;},&#xD;&#xA;&#xD;&#xA;```" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.prescription.extension">
      <path value="Claim.prescription.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="1" />
    </element>
    <element id="Claim.prescription.extension:groupIdentifier">
      <path value="Claim.prescription.extension" />
      <sliceName value="groupIdentifier" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier" />
      </type>
    </element>
    <element id="Claim.prescription.reference">
      <path value="Claim.prescription.reference" />
      <max value="0" />
    </element>
    <element id="Claim.prescription.identifier">
      <path value="Claim.prescription.identifier" />
      <max value="0" />
    </element>
    <element id="Claim.prescription.identifier.system">
      <path value="Claim.prescription.identifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/prescription-order-item-number" />
    </element>
    <element id="Claim.prescription.identifier.value">
      <path value="Claim.prescription.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.originalPrescription.extension">
      <path value="Claim.originalPrescription.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="1" />
    </element>
    <element id="Claim.originalPrescription.extension:groupIdentifier">
      <path value="Claim.originalPrescription.extension" />
      <sliceName value="groupIdentifier" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier" />
      </type>
    </element>
    <element id="Claim.originalPrescription.identifier.system">
      <path value="Claim.originalPrescription.identifier.system" />
      <min value="1" />
    </element>
    <element id="Claim.originalPrescription.identifier.value">
      <path value="Claim.originalPrescription.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.payee">
      <path value="Claim.payee" />
      <definition value="The recipient of benefits payable. This is the ODS Code of the Pharmacy (provider) making the Claim.&#xD;&#xA;&#xD;&#xA;See provider for example of a contained Organization.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;payee&quot;: {&#xD;&#xA;    &quot;type&quot;: {&#xD;&#xA;        &quot;coding&quot;: [&#xD;&#xA;            {&#xD;&#xA;                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/payeetype&quot;,&#xD;&#xA;                &quot;value&quot;: &quot;provider&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;Provider&quot;&#xD;&#xA;            }&#xD;&#xA;        ]&#xD;&#xA;    },&#xD;&#xA;    &quot;party&quot;: {&#xD;&#xA;        &quot;reference&quot;: &quot;#organisation&quot;,&#xD;&#xA;        &quot;display&quot;: &quot;The Simple Pharmacy&quot;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;```" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.payee.type.coding">
      <path value="Claim.payee.type.coding" />
      <min value="1" />
    </element>
    <element id="Claim.payee.type.coding.system">
      <path value="Claim.payee.type.coding.system" />
      <min value="1" />
      <fixedUri value="http://terminology.hl7.org/CodeSystem/payeetype" />
    </element>
    <element id="Claim.payee.type.coding.code">
      <path value="Claim.payee.type.coding.code" />
      <min value="1" />
      <fixedCode value="provider" />
    </element>
    <element id="Claim.payee.type.coding.display">
      <path value="Claim.payee.type.coding.display" />
      <min value="1" />
      <fixedString value="Provider" />
    </element>
    <element id="Claim.payee.party">
      <path value="Claim.payee.party" />
      <min value="1" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization" />
      </type>
      <constraint>
        <key value="nhsd-claim-party" />
        <severity value="error" />
        <human value="party - An identifier reference or resource reference must be provided" />
        <expression value="(reference.exists() or (identifier.exists()))" />
        <source value="https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim" />
      </constraint>
    </element>
    <element id="Claim.payee.party.identifier.system">
      <path value="Claim.payee.party.identifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/ods-organization-code" />
    </element>
    <element id="Claim.payee.party.identifier.value">
      <path value="Claim.payee.party.identifier.value" />
      <min value="1" />
    </element>
    <element id="Claim.insurance">
      <path value="Claim.insurance" />
      <definition value="For EPS this is the NHS Business Services Authority. The sequence value must always be 1.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;insurance&quot;:  [&#xD;&#xA;    {&#xD;&#xA;        &quot;sequence&quot;: 1,&#xD;&#xA;        &quot;focal&quot;: true,&#xD;&#xA;        &quot;coverage&quot;: {&#xD;&#xA;            &quot;identifier&quot;: {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/ods-organization-code&quot;,&#xD;&#xA;                &quot;value&quot;: &quot;T1450&quot;&#xD;&#xA;            },&#xD;&#xA;            &quot;display&quot;: &quot;NHS BUSINESS SERVICES AUTHORITY&quot;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;],&#xD;&#xA;```" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.insurance.coverage.identifier">
      <path value="Claim.insurance.coverage.identifier" />
      <min value="1" />
    </element>
    <element id="Claim.insurance.coverage.identifier.system">
      <path value="Claim.insurance.coverage.identifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/ods-organization-code" />
    </element>
    <element id="Claim.insurance.coverage.identifier.value">
      <path value="Claim.insurance.coverage.identifier.value" />
      <min value="1" />
      <fixedString value="T1450" />
    </element>
    <element id="Claim.item">
      <path value="Claim.item" />
      <definition value="&lt;table class=&quot;regular&quot; style=&quot;width:100%&quot;&gt;&#xD;&#xA; &lt;thead&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;     &lt;th data-no-sort width=&quot;25%&quot;&gt;&lt;/th&gt;&#xD;&#xA;     &lt;th data-no-sort width=&quot;25%&quot;&gt;item (prescription)&lt;/th&gt;&#xD;&#xA;     &lt;th data-no-sort width=&quot;25%&quot;&gt;detail (requested medication)&lt;/th&gt;&#xD;&#xA;     &lt;th data-no-sort width=&quot;25%&quot;&gt;subDetail (dispensed medication)&lt;/th&gt;&#xD;&#xA;   &lt;/tr&gt;&#xD;&#xA; &lt;/thead&gt;&#xD;&#xA; &lt;tbody&gt;&#xD;&#xA;  &lt;tr&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    productOrService&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    16076005 Prescription&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    dm+d code of requested medication&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    dm+d code of dispensed medication&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;   &lt;/tr&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    programCode&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    exemptionEvidence&#xD;&#xA;    prescriptionChargeExemption&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    prescriptionCharge&#xD;&#xA;    dispensingEndorsement&#xD;&#xA;    additionalInstructions&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;   &lt;/tr&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    modifier&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    MedicationDispenseType&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;   &lt;/tr&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;     &lt;tr&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    quantity&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    MedicationRequest.quantity&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;    &lt;td&gt;&#xD;&#xA;    MedicationDispense.quantity&#xD;&#xA;    &lt;/td&gt;&#xD;&#xA;   &lt;/tr&gt;&#xD;&#xA;   &lt;tr&gt;&#xD;&#xA;   &lt;/tbody&gt;&#xD;&#xA;&lt;/table&gt;" />
      <min value="1" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.extension">
      <path value="Claim.item.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="1" />
    </element>
    <element id="Claim.item.extension:prescriptionStatus">
      <path value="Claim.item.extension" />
      <sliceName value="prescriptionStatus" />
      <definition value="This will generally match the value of the last `dispense-notification` message.&#xD;&#xA;&#xD;&#xA;This should match the `status` of the associated [NHSDigital-Task](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Task)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;extension&quot;: [&#xD;&#xA;    {&#xD;&#xA;        &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus&quot;,&#xD;&#xA;        &quot;valueCoding&quot;: {&#xD;&#xA;            &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/EPS-task-business-status&quot;,&#xD;&#xA;            &quot;code&quot;: &quot;0006&quot;,&#xD;&#xA;            &quot;display&quot;: &quot;Dispensed&quot;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;] &#xD;&#xA; ```" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.extension:prescriptionStatusReason">
      <path value="Claim.item.extension" />
      <sliceName value="prescriptionStatusReason" />
      <short value="Prescription Status Reason" />
      <definition value="Mandatory if the medication was not dispensed. &#xD;&#xA;This should match the `statusReason` of the associated [NHSDigital-Task](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Task)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;extension&quot;: [&#xD;&#xA;    {&#xD;&#xA;        &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason&quot;,&#xD;&#xA;        &quot;valueCoding&quot;: {&#xD;&#xA;            &quot;system&quot;: &quot;https://fhir.nhs.uk/ValueSet/DM-medicationdispense-status-reason&quot;,&#xD;&#xA;            &quot;code&quot;: &quot;0001&quot;,&#xD;&#xA;            &quot;display&quot;: &quot;Not required as instructed by the patient&quot;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;],&#xD;&#xA;&#xD;&#xA;```" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.sequence">
      <path value="Claim.item.sequence" />
      <fixedPositiveInt value="1" />
    </element>
    <element id="Claim.item.productOrService">
      <path value="Claim.item.productOrService" />
      <definition value="Mandatory fixed value.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;productOrService&quot;: {&#xD;&#xA;    &quot;coding&quot;:  [&#xD;&#xA;        {&#xD;&#xA;            &quot;system&quot;: &quot;http://snomed.info/sct&quot;,&#xD;&#xA;            &quot;code&quot;: &quot;16076005&quot;,&#xD;&#xA;            &quot;display&quot;: &quot;Prescription&quot;&#xD;&#xA;        }&#xD;&#xA;    ]&#xD;&#xA;},&#xD;&#xA;&#xD;&#xA;```" />
      <comment value="To be expanded. At present a fixed SNOMED CT value" />
    </element>
    <element id="Claim.item.productOrService.coding">
      <path value="Claim.item.productOrService.coding" />
      <min value="1" />
      <max value="1" />
    </element>
    <element id="Claim.item.productOrService.coding.system">
      <path value="Claim.item.productOrService.coding.system" />
      <min value="1" />
      <fixedUri value="http://snomed.info/sct" />
    </element>
    <element id="Claim.item.productOrService.coding.code">
      <path value="Claim.item.productOrService.coding.code" />
      <min value="1" />
      <fixedCode value="16076005" />
    </element>
    <element id="Claim.item.productOrService.coding.display">
      <path value="Claim.item.productOrService.coding.display" />
      <min value="1" />
      <fixedString value="Prescription" />
    </element>
    <element id="Claim.item.programCode">
      <path value="Claim.item.programCode" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="coding.system" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <short value="PrescriptionChargeExemption" />
      <definition value="Exemption evidence - code to denote which evidence for exemption has been seen.&#xD;&#xA;&#xD;&#xA;Prescription Charge Exemption - code to denote the exemption reason &#xD;&#xA;```json  &#xD;&#xA;&#xD;&#xA;&quot;programCode&quot;: [&#xD;&#xA;    {&#xD;&#xA;        &quot;coding&quot;: [&#xD;&#xA;              {&#xD;&#xA;                &quot;code&quot;: &quot;0001&quot;,&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;Patient has paid appropriate charges&quot;&#xD;&#xA;              }&#xD;&#xA;            ]&#xD;&#xA;          },&#xD;&#xA;          {&#xD;&#xA;            &quot;coding&quot;: [&#xD;&#xA;              {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence&quot;,&#xD;&#xA;                &quot;code&quot;: &quot;no-evidence-seen&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;No Evidence Seen&quot;&#xD;&#xA;              }&#xD;&#xA;            ]&#xD;&#xA;          }&#xD;&#xA;        ]&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
      <binding>
        <strength value="example" />
        <description value="Prescription Charge Exemption" />
      </binding>
    </element>
    <element id="Claim.item.programCode.coding">
      <path value="Claim.item.programCode.coding" />
      <min value="1" />
    </element>
    <element id="Claim.item.programCode.coding.system">
      <path value="Claim.item.programCode.coding.system" />
      <min value="1" />
    </element>
    <element id="Claim.item.programCode.coding.code">
      <path value="Claim.item.programCode.coding.code" />
      <min value="1" />
    </element>
    <element id="Claim.item.programCode:exemptionEvidence">
      <path value="Claim.item.programCode" />
      <sliceName value="exemptionEvidence" />
      <max value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="extensible" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/DM-vs-exemption-evidence" />
      </binding>
    </element>
    <element id="Claim.item.programCode:exemptionEvidence.coding.system">
      <path value="Claim.item.programCode.coding.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence" />
    </element>
    <element id="Claim.item.programCode:exemptionEvidence.coding.code">
      <path value="Claim.item.programCode.coding.code" />
      <min value="1" />
    </element>
    <element id="Claim.item.programCode:prescriptionChargeExemption">
      <path value="Claim.item.programCode" />
      <sliceName value="prescriptionChargeExemption" />
      <min value="1" />
      <max value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <description value="Prescription Charge Exemption" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/DM-prescription-charge-exemption" />
      </binding>
    </element>
    <element id="Claim.item.programCode:prescriptionChargeExemption.coding.system">
      <path value="Claim.item.programCode.coding.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption" />
    </element>
    <element id="Claim.item.programCode:prescriptionChargeExemption.coding.code">
      <path value="Claim.item.programCode.coding.code" />
      <min value="1" />
    </element>
    <element id="Claim.item.detail">
      <path value="Claim.item.detail" />
      <definition value="A claim detail line. Relates to MedicationRequest" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.extension">
      <path value="Claim.item.detail.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="2" />
    </element>
    <element id="Claim.item.detail.extension:medicationRequest">
      <path value="Claim.item.detail.extension" />
      <sliceName value="medicationRequest" />
      <short value="MedicationRequest reference" />
      <definition value="This should match the `identifier` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;extension&quot;:  [&#xD;&#xA;    {&#xD;&#xA;        &quot;url&quot;: &quot;https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference&quot;,&#xD;&#xA;        &quot;valueReference&quot;: {&#xD;&#xA;            &quot;identifier&quot;: {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/Id/prescription-order-item-number&quot;,&#xD;&#xA;                &quot;value&quot;: &quot;33560bee-bc0c-4e3b-a155-71591eee9ca5&quot;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;],&#xD;&#xA;&#xD;&#xA;```" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.extension:sequenceIdentifier">
      <path value="Claim.item.detail.extension" />
      <sliceName value="sequenceIdentifier" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.extension:repeatInformation">
      <path value="Claim.item.detail.extension" />
      <sliceName value="repeatInformation" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation" />
      </type>
    </element>
    <element id="Claim.item.detail.sequence">
      <path value="Claim.item.detail.sequence" />
      <definition value="An integer to identify the item within the resource. Fixed value.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;sequence&quot;: 1,&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.productOrService">
      <path value="Claim.item.detail.productOrService" />
      <definition value="This should match the `medicationCodeableConcept` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;productOrService&quot;: {&#xD;&#xA;    &quot;coding&quot;:  [&#xD;&#xA;        {&#xD;&#xA;            &quot;system&quot;: &quot;http://snomed.info/sct&quot;,&#xD;&#xA;            &quot;code&quot;: &quot;322237000&quot;,&#xD;&#xA;            &quot;display&quot;: &quot;Paracetamol 500mg soluble tablets&quot;&#xD;&#xA;        }&#xD;&#xA;    ]&#xD;&#xA;},&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <description value="DMD Medication Code" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/NHSDigital-MedicationRequest-Code" />
      </binding>
    </element>
    <element id="Claim.item.detail.modifier">
      <path value="Claim.item.detail.modifier" />
      <definition value="If the code is `0002 - Item not dispensed` then the extension `prescriptionStatusReason` is required.&#xD;&#xA;&#xD;&#xA;This should match the `type` of the last associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;modifier&quot;:  [&#xD;&#xA;    {&#xD;&#xA;        &quot;coding&quot;:  [&#xD;&#xA;            {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/medicationdispense-type&quot;,&#xD;&#xA;                &quot;code&quot;: &quot;0001&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;Item fully dispensed&quot;&#xD;&#xA;            }&#xD;&#xA;        ]&#xD;&#xA;    }&#xD;&#xA;],&#xD;&#xA;&#xD;&#xA;```" />
      <min value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <description value="MedicationDispense Type" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/DM-medicationdispense-type" />
      </binding>
    </element>
    <element id="Claim.item.detail.programCode">
      <path value="Claim.item.detail.programCode" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="coding.system" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <short value="Dispensing Endorsement and Charge Payment" />
      <definition value="Dispensing Endorsement  - Details of the endorsement(s) to support the claim for this medication item. &#xD;&#xA;&#xD;&#xA;Charge Payment - Details on whether a prescription charge was paid for the medication treatment.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;programCode&quot;:  [&#xD;&#xA;    {&#xD;&#xA;        &quot;coding&quot;:  [&#xD;&#xA;            {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/DM-prescription-charge&quot;,&#xD;&#xA;                &quot;code&quot;: &quot;paid-once&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;Paid Once&quot;&#xD;&#xA;            }&#xD;&#xA;        ]&#xD;&#xA;    },&#xD;&#xA;    {&#xD;&#xA;        &quot;coding&quot;:  [&#xD;&#xA;            {&#xD;&#xA;                &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement&quot;,&#xD;&#xA;                &quot;code&quot;: &quot;IP&quot;,&#xD;&#xA;                &quot;display&quot;: &quot;Invoice Price&quot;&#xD;&#xA;            }&#xD;&#xA;        ]&#xD;&#xA;    }&#xD;&#xA;],&#xD;&#xA;&#xD;&#xA;``` &#xD;&#xA;If an endorsement code of PD is used, the number of packaged doses dispensed minus the number of dispenses must be entered in the coding.text field e.g. PD4 for five doses packaged separately and dispensed on one occasion" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.programCode.coding">
      <path value="Claim.item.detail.programCode.coding" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.programCode.coding.system">
      <path value="Claim.item.detail.programCode.coding.system" />
      <min value="1" />
    </element>
    <element id="Claim.item.detail.programCode.coding.code">
      <path value="Claim.item.detail.programCode.coding.code" />
      <min value="1" />
    </element>
    <element id="Claim.item.detail.programCode:prescriptionCharge">
      <path value="Claim.item.detail.programCode" />
      <sliceName value="prescriptionCharge" />
      <min value="1" />
      <max value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/DM-vs-prescription-charge" />
      </binding>
    </element>
    <element id="Claim.item.detail.programCode:prescriptionCharge.coding.system">
      <path value="Claim.item.detail.programCode.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/CodeSystem/DM-prescription-charge" />
    </element>
    <element id="Claim.item.detail.programCode:dispensingEndorsement">
      <path value="Claim.item.detail.programCode" />
      <sliceName value="dispensingEndorsement" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <description value="Program specific reason codes" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/DM-dispensing-endorsement" />
      </binding>
    </element>
    <element id="Claim.item.detail.programCode:dispensingEndorsement.coding.system">
      <path value="Claim.item.detail.programCode.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement" />
    </element>
    <element id="Claim.item.detail.programCode:dispensingEndorsement.text">
      <path value="Claim.item.detail.programCode.text" />
      <short value="Additional Information for Dispensing Endorsements" />
      <definition value="Additional Information for Dispensing Endorsements should be entered in this field. Details on the format of this text field can be found in `Requirements and Electronic Prescription Service Guidance for Endorsement (EPS)`&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;       {&#xD;&#xA;                &quot;coding&quot;: [&#xD;&#xA;                    {&#xD;&#xA;                       &quot;system&quot;: &quot;https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement&quot;,&#xD;&#xA;                       &quot;code&quot;: &quot;IP&quot;,&#xD;&#xA;                       &quot;display&quot;: &quot;Invoice Price for less common products or special items&quot;&#xD;&#xA;                      }&#xD;&#xA;                   ],&#xD;&#xA;                  &quot;text&quot; : &quot;PD4,15gram,£12.34,EFGH Ltd&quot;&#xD;&#xA;          }&#xD;&#xA;```" />
    </element>
    <element id="Claim.item.detail.quantity">
      <path value="Claim.item.detail.quantity" />
      <definition value="This should match the `quantity` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;quantity&quot;: {&#xD;&#xA;    &quot;value&quot;: 200,&#xD;&#xA;    &quot;unit&quot;: &quot;unit dose&quot;,&#xD;&#xA;    &quot;system&quot;: &quot;http://snomed.info/sct&quot;,&#xD;&#xA;    &quot;code&quot;: &quot;408102007&quot;&#xD;&#xA;},&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.subDetail">
      <path value="Claim.item.detail.subDetail" />
      <definition value="subDetail is only present if the medication has been dispensed." />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.subDetail.extension">
      <path value="Claim.item.detail.subDetail.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="0" />
    </element>
    <element id="Claim.item.detail.subDetail.extension:medicationDispense">
      <path value="Claim.item.detail.subDetail.extension" />
      <sliceName value="medicationDispense" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference" />
      </type>
    </element>
    <element id="Claim.item.detail.subDetail.extension:repeatInformation">
      <path value="Claim.item.detail.subDetail.extension" />
      <sliceName value="repeatInformation" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation" />
      </type>
    </element>
    <element id="Claim.item.detail.subDetail.sequence">
      <path value="Claim.item.detail.subDetail.sequence" />
      <definition value="An integer id for each medication dispense.&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;sequence&quot;: 1,&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.subDetail.productOrService">
      <path value="Claim.item.detail.subDetail.productOrService" />
      <definition value="This should match the `medicationCodeableConcept` of the associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;productOrService&quot;: {&#xD;&#xA;    &quot;coding&quot;:  [&#xD;&#xA;        {&#xD;&#xA;            &quot;system&quot;: &quot;http://snomed.info/sct&quot;,&#xD;&#xA;            &quot;code&quot;: &quot;3416211000001106&quot;,&#xD;&#xA;            &quot;display&quot;: &quot;Salbutamol 100micrograms/dose inhaler (Sandoz Ltd) 200 dose&quot;&#xD;&#xA;        }&#xD;&#xA;    ]&#xD;&#xA;},&#xD;&#xA;&#xD;&#xA;```" />
      <mustSupport value="true" />
      <binding>
        <strength value="extensible" />
        <description value="DMD Medication Code" />
        <valueSet value="https://fhir.nhs.uk/ValueSet/NHSDigital-MedicationDispense-Code" />
      </binding>
    </element>
    <element id="Claim.item.detail.subDetail.quantity">
      <path value="Claim.item.detail.subDetail.quantity" />
      <definition value="This should match the `quantity` of the associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&amp;scope=uk.nhsdigital.r4&amp;canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)&#xD;&#xA;&#xD;&#xA;```json&#xD;&#xA;&#xD;&#xA;&quot;quantity&quot;: {&#xD;&#xA;    &quot;value&quot;: 200,&#xD;&#xA;    &quot;unit&quot;: &quot;unit dose&quot;,&#xD;&#xA;    &quot;system&quot;: &quot;http://snomed.info/sct&quot;,&#xD;&#xA;    &quot;code&quot;: &quot;408102007&quot;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;```" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Claim.item.detail.subDetail.quantity.extension">
      <path value="Claim.item.detail.subDetail.quantity.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="0" />
    </element>
    <element id="Claim.item.detail.subDetail.quantity.extension:runningTotal">
      <path value="Claim.item.detail.subDetail.quantity.extension" />
      <sliceName value="runningTotal" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/StructureDefinition/Extension-DM-RunningTotal" />
      </type>
    </element>
  </differential>
</StructureDefinition>